-- SkyyScripts GUI pour 99 Nights in the Forest üî¶ (Version Corrig√©e)
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "SkyyScriptsGui"
gui.ResetOnSpawn = false

local mainFrame, rightContent
local toggleKey = Enum.KeyCode.G
local key = "1234"
local menuVisible = false

-- Variables globales corrig√©es
local autoSaveEnabled = false
local autoPlant = false
local plantedSaplings = {} -- Variable manquante ajout√©e
local lastSaveTime = 0
local saveCooldown = 5
local campfireCFrame = CFrame.new(Vector3.new(2.026, 4, 9.497))

local function validateKey(inputKey)
    return inputKey == key
end

local function showMainMenu()
    if mainFrame then mainFrame:Destroy() end

    mainFrame = Instance.new("Frame", gui)
    mainFrame.Size = UDim2.new(0, 500, 0, 300)
    mainFrame.Position = UDim2.new(0.5, -250, 0.5, -150)
    mainFrame.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
    mainFrame.BorderSizePixel = 0
    mainFrame.Active = true

    local dragBar = Instance.new("Frame", mainFrame)
    dragBar.Size = UDim2.new(1, 0, 0, 30)
    dragBar.BackgroundColor3 = Color3.fromRGB(100, 0, 0)

    local dragTitle = Instance.new("TextLabel", dragBar)
    dragTitle.Size = UDim2.new(1, 0, 1, 0)
    dragTitle.BackgroundTransparency = 1
    dragTitle.TextColor3 = Color3.new(1, 1, 1)
    dragTitle.Text = "99 Nights in the Forest"
    dragTitle.Font = Enum.Font.GothamBold
    dragTitle.TextSize = 18

    local dragging = false
    local dragInput, dragStart, startPos

    dragBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    dragBar.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)

    local leftPanel = Instance.new("Frame", mainFrame)
    leftPanel.Size = UDim2.new(0, 120, 1, -30)
    leftPanel.Position = UDim2.new(0, 0, 0, 30)
    leftPanel.BackgroundColor3 = Color3.fromRGB(100, 0, 0)

    local separator = Instance.new("Frame", mainFrame)
    separator.Size = UDim2.new(0, 2, 1, -30)
    separator.Position = UDim2.new(0, 120, 0, 30)
    separator.BackgroundColor3 = Color3.new(0, 0, 0)

    rightContent = Instance.new("Frame", mainFrame)
    rightContent.Size = UDim2.new(1, -122, 1, -30)
    rightContent.Position = UDim2.new(0, 122, 0, 30)
    rightContent.BackgroundColor3 = Color3.new(0, 0, 0)
    rightContent.BackgroundTransparency = 0.3
    rightContent.ClipsDescendants = true

    local categories = {"Main", "Bring Items", "Auto", "Visual", "Teleport", "Settings"}

    local function clearRight()
        for _, c in ipairs(rightContent:GetChildren()) do
            c:Destroy()
        end
    end

    local function showCategory(cat)
        clearRight()
        
        if cat == "Main" then
            local tpBtn = Instance.new("TextButton", rightContent)
            tpBtn.Size = UDim2.new(0, 150, 0, 35)
            tpBtn.Position = UDim2.new(0, 10, 0, 10)
            tpBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            tpBtn.TextColor3 = Color3.new(1, 1, 1)
            tpBtn.Font = Enum.Font.Gotham
            tpBtn.TextSize = 14
            tpBtn.Text = "TP to Campfire"
            tpBtn.MouseButton1Click:Connect(function()
                local char = player.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    char.HumanoidRootPart.CFrame = campfireCFrame
                end
            end)

            -- FLY SYSTEM
            local flyEnabled = false
            local flyBtn = Instance.new("TextButton", rightContent)
            flyBtn.Size = UDim2.new(0, 150, 0, 35)
            flyBtn.Position = UDim2.new(0, 170, 0, 10)
            flyBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            flyBtn.TextColor3 = Color3.new(1, 1, 1)
            flyBtn.Font = Enum.Font.Gotham
            flyBtn.TextSize = 14
            flyBtn.Text = "Fly: OFF"

            local function setupFly()
                local character = player.Character
                if not character then return end
                
                local humanoid = character:FindFirstChild("Humanoid")
                local rootPart = character:FindFirstChild("HumanoidRootPart")
                if not humanoid or not rootPart then return end

                if flyEnabled then
                    -- Activer le fly (style Infinite Yield)
                    humanoid:ChangeState(Enum.HumanoidStateType.Physics)
                    
                    -- Cr√©er le BodyGyro pour la stabilit√©
                    local bodyGyro = Instance.new("BodyGyro", rootPart)
                    bodyGyro.D = 50
                    bodyGyro.P = 2000
                    bodyGyro.MaxTorque = Vector3.new(1, 1, 1) * 400000
                    bodyGyro.CFrame = rootPart.CFrame
                    
                    -- Cr√©er le BodyVelocity pour le mouvement
                    local bodyVelocity = Instance.new("BodyVelocity", rootPart)
                    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
                    bodyVelocity.MaxForce = Vector3.new(1, 1, 1) * 400000
                    
                    -- Connexion pour le mouvement (style Infinite Yield)
                    local connection
                    connection = game:GetService("RunService").Heartbeat:Connect(function()
                        if not flyEnabled or not character.Parent then
                            connection:Disconnect()
                            return
                        end
                        
                        local moveVector = Vector3.new(0, 0, 0)
                        local inputService = game:GetService("UserInputService")
                        local camera = workspace.CurrentCamera
                        
                        -- Mouvement bas√© sur la direction de la cam√©ra
                        if inputService:IsKeyDown(Enum.KeyCode.W) then
                            moveVector = moveVector + (camera.CFrame.LookVector * 50)
                        end
                        if inputService:IsKeyDown(Enum.KeyCode.S) then
                            moveVector = moveVector - (camera.CFrame.LookVector * 50)
                        end
                        if inputService:IsKeyDown(Enum.KeyCode.A) then
                            moveVector = moveVector - (camera.CFrame.RightVector * 50)
                        end
                        if inputService:IsKeyDown(Enum.KeyCode.D) then
                            moveVector = moveVector + (camera.CFrame.RightVector * 50)
                        end
                        if inputService:IsKeyDown(Enum.KeyCode.Space) then
                            moveVector = moveVector + Vector3.new(0, 50, 0)
                        end
                        if inputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                            moveVector = moveVector - Vector3.new(0, 50, 0)
                        end
                        
                        bodyVelocity.Velocity = moveVector
                    end)
                else
                    -- D√©sactiver le fly
                    humanoid:ChangeState(Enum.HumanoidStateType.Running)
                    if rootPart:FindFirstChild("BodyGyro") then
                        rootPart.BodyGyro:Destroy()
                    end
                    if rootPart:FindFirstChild("BodyVelocity") then
                        rootPart.BodyVelocity:Destroy()
                    end
                end
            end

            flyBtn.MouseButton1Click:Connect(function()
                flyEnabled = not flyEnabled
                flyBtn.Text = "Fly: " .. (flyEnabled and "ON" or "OFF")
                flyBtn.BackgroundColor3 = flyEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                setupFly()
            end)

            -- WALKSPEED SYSTEM
            local walkSpeedEnabled = false
            local walkSpeedBtn = Instance.new("TextButton", rightContent)
            walkSpeedBtn.Size = UDim2.new(0, 150, 0, 35)
            walkSpeedBtn.Position = UDim2.new(0, 10, 0, 50)
            walkSpeedBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            walkSpeedBtn.TextColor3 = Color3.new(1, 1, 1)
            walkSpeedBtn.Font = Enum.Font.Gotham
            walkSpeedBtn.TextSize = 14
            walkSpeedBtn.Text = "Speed: OFF"

            local function setupWalkSpeed()
                local character = player.Character
                if not character then return end
                
                local humanoid = character:FindFirstChild("Humanoid")
                if not humanoid then return end

                if walkSpeedEnabled then
                    humanoid.WalkSpeed = 100
                else
                    humanoid.WalkSpeed = 16
                end
            end

            walkSpeedBtn.MouseButton1Click:Connect(function()
                walkSpeedEnabled = not walkSpeedEnabled
                walkSpeedBtn.Text = "Speed: " .. (walkSpeedEnabled and "ON" or "OFF")
                walkSpeedBtn.BackgroundColor3 = walkSpeedEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                setupWalkSpeed()
            end)

            -- INFINITE JUMP SYSTEM
            local infiniteJumpEnabled = false
            local infiniteJumpBtn = Instance.new("TextButton", rightContent)
            infiniteJumpBtn.Size = UDim2.new(0, 150, 0, 35)
            infiniteJumpBtn.Position = UDim2.new(0, 170, 0, 50)
            infiniteJumpBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            infiniteJumpBtn.TextColor3 = Color3.new(1, 1, 1)
            infiniteJumpBtn.Font = Enum.Font.Gotham
            infiniteJumpBtn.TextSize = 14
            infiniteJumpBtn.Text = "Infinite Jump: OFF"

            local function setupInfiniteJump()
                local character = player.Character
                if not character then return end
                
                local humanoid = character:FindFirstChild("Humanoid")
                if not humanoid then return end

                if infiniteJumpEnabled then
                    humanoid.JumpPower = 100
                    -- Activer le saut infini
                    local connection
                    connection = game:GetService("UserInputService").JumpRequest:Connect(function()
                        if infiniteJumpEnabled then
                            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                        end
                    end)
                else
                    humanoid.JumpPower = 50
                end
            end

            infiniteJumpBtn.MouseButton1Click:Connect(function()
                infiniteJumpEnabled = not infiniteJumpEnabled
                infiniteJumpBtn.Text = "Infinite Jump: " .. (infiniteJumpEnabled and "ON" or "OFF")
                infiniteJumpBtn.BackgroundColor3 = infiniteJumpEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                setupInfiniteJump()
            end)

        elseif cat == "Bring Items" then
            -- Bring Food/heal
            local bringBtn = Instance.new("TextButton", rightContent)
            bringBtn.Size = UDim2.new(0, 150, 0, 35)
            bringBtn.Position = UDim2.new(0, 10, 0, 10)
            bringBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringBtn.TextColor3 = Color3.new(1,1,1)
            bringBtn.Font = Enum.Font.Gotham
            bringBtn.TextSize = 14
            bringBtn.Text = "Bring Food/heal"
            bringBtn.MouseButton1Click:Connect(function()
                local foodNames = {
                    "Carrot", "Corn", "Pumpkin", "Apple", "Morsel", "cooked Morsel",
                    "Steak", "cooked Steak", "Cake", "Chili", "Stew", "Hearty Stew",
                    "Bandage", "Medkit"
                }
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrpPos = char.HumanoidRootPart.Position

                coroutine.wrap(function()
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        if table.find(foodNames, obj.Name) then
                            local partToMove
                            if obj:IsA("Model") then
                                partToMove = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            elseif obj:IsA("BasePart") then
                                partToMove = obj
                            end
                            if partToMove then
                                partToMove.CFrame = CFrame.new(hrpPos + Vector3.new(math.random(-3,3), 1, math.random(-3,3)))
                                task.wait(0.01)
                            end
                        end
                    end
                end)()
            end)

            -- Bring Logs
            local bringLogsBtn = Instance.new("TextButton", rightContent)
            bringLogsBtn.Size = UDim2.new(0, 150, 0, 35)
            bringLogsBtn.Position = UDim2.new(0, 170, 0, 10)
            bringLogsBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringLogsBtn.TextColor3 = Color3.new(1, 1, 1)
            bringLogsBtn.Font = Enum.Font.Gotham
            bringLogsBtn.TextSize = 14
            bringLogsBtn.Text = "Bring Logs"
            bringLogsBtn.MouseButton1Click:Connect(function()
                local logName = "Log"
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrpPos = char.HumanoidRootPart.Position

                coroutine.wrap(function()
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        if obj.Name == logName then
                            local partToMove
                            if obj:IsA("Model") then
                                partToMove = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            elseif obj:IsA("BasePart") then
                                partToMove = obj
                            end
                            if partToMove then
                                partToMove.CFrame = CFrame.new(hrpPos + Vector3.new(math.random(-3,3), 1, math.random(-3,3)))
                                task.wait(0.01)
                            end
                        end
                    end
                end)()
            end)

            -- Bring Gear
            local bringGearBtn = Instance.new("TextButton", rightContent)
            bringGearBtn.Size = UDim2.new(0, 150, 0, 35)
            bringGearBtn.Position = UDim2.new(0, 10, 0, 50)
            bringGearBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringGearBtn.TextColor3 = Color3.new(1, 1, 1)
            bringGearBtn.Font = Enum.Font.Gotham
            bringGearBtn.TextSize = 14
            bringGearBtn.Text = "Bring Gear"
            bringGearBtn.MouseButton1Click:Connect(function()
                local gearItems = {
                    "UFO Scrap", "Cultist Prototype", "Cultist Experiment", "Washing Machine",
                    "Old Car Engine", "Metal Chair", "Tyre", "Broken Microwave", "Broken Radio",
                    "Broken Fan", "UFO Component", "UFO Junk", "Sheet Metal", "Bolt",
                    "Cultist Gem", "Forest Gem"
                }
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrpPos = char.HumanoidRootPart.Position

                coroutine.wrap(function()
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        if table.find(gearItems, obj.Name) then
                            local partToMove
                            if obj:IsA("Model") then
                                partToMove = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            elseif obj:IsA("BasePart") then
                                partToMove = obj
                            end
                            if partToMove then
                                partToMove.CFrame = CFrame.new(hrpPos + Vector3.new(math.random(-3,3), 1, math.random(-3,3)))
                                task.wait(0.01)
                            end
                        end
                    end
                end)()
            end)

            -- Bring Fuel
            local bringFuelBtn = Instance.new("TextButton", rightContent)
            bringFuelBtn.Size = UDim2.new(0, 150, 0, 35)
            bringFuelBtn.Position = UDim2.new(0, 170, 0, 50)
            bringFuelBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringFuelBtn.TextColor3 = Color3.new(1, 1, 1)
            bringFuelBtn.Font = Enum.Font.Gotham
            bringFuelBtn.TextSize = 14
            bringFuelBtn.Text = "Bring Fuel"

            bringFuelBtn.MouseButton1Click:Connect(function()
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrp = char.HumanoidRootPart

                local keywords = {
                    "corpse", "sapling", "alien log", "chair",
                    "coal", "fuel canister", "oil barrel", "biofuel"
                }

                for _, obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("BasePart") or obj:IsA("Model") then
                        local name = obj.Name:lower()
                        for _, keyword in ipairs(keywords) do
                            if name:find(keyword) then
                                local part = obj:IsA("Model") and obj:FindFirstChildWhichIsA("BasePart") or obj
                                if part then
                                    part.CFrame = hrp.CFrame + Vector3.new(math.random(-5,5), 0, math.random(-5,5))
                                end
                                break
                            end
                        end
                    end
                end
            end)

            -- Bring Other
            local bringOtherBtn = Instance.new("TextButton", rightContent)
            bringOtherBtn.Size = UDim2.new(0, 150, 0, 35)
            bringOtherBtn.Position = UDim2.new(0, 10, 0, 90)
            bringOtherBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringOtherBtn.TextColor3 = Color3.new(1, 1, 1)
            bringOtherBtn.Font = Enum.Font.Gotham
            bringOtherBtn.TextSize = 14
            bringOtherBtn.Text = "Bring Other"

            bringOtherBtn.MouseButton1Click:Connect(function()
                local otherItems = {
                    "Chili Seeds", "Flower Seeds", "Berry Seeds", "Firefly Seeds",
                    "Old Sack", "Good Sack", "Giant Sack",
                    "Strong Flashlight", "Old Flashlight",
                    "Bunny Foot", "Wolf Pelt", "Alpha Wolf Pelt", "Bear Pelt"
                }
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrpPos = char.HumanoidRootPart.Position

                coroutine.wrap(function()
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        if table.find(otherItems, obj.Name) then
                            local partToMove
                            if obj:IsA("Model") then
                                partToMove = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            elseif obj:IsA("BasePart") then
                                partToMove = obj
                            end
                            if partToMove then
                                partToMove.CFrame = CFrame.new(hrpPos + Vector3.new(math.random(-3,3), 1, math.random(-3,3)))
                                task.wait(0.01)
                            end
                        end
                    end
                end)()
            end)

            -- Bring Weapon
            local bringWeaponBtn = Instance.new("TextButton", rightContent)
            bringWeaponBtn.Size = UDim2.new(0, 150, 0, 35)
            bringWeaponBtn.Position = UDim2.new(0, 170, 0, 90)
            bringWeaponBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            bringWeaponBtn.TextColor3 = Color3.new(1, 1, 1)
            bringWeaponBtn.Font = Enum.Font.Gotham
            bringWeaponBtn.TextSize = 14
            bringWeaponBtn.Text = "Bring Weapon"

            bringWeaponBtn.MouseButton1Click:Connect(function()
                local weaponArmorAmmoItems = {
                    "Leather Body", "Iron Body", "Thorn Body", "Riot Shield",
                    "Alien Armor", "Spear", "Morningstar", "Katana", "Laser Sword",
                    "Revolver", "Rifle", "Tactical Shotgun", "Kunai", "Ray Gun", "Laser Cannon",
                    "Revolver Ammo", "Rifle Ammo", "Shotgun Ammo", "Good axe", "Strong axe", "Chainsaw"
                }
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local hrpPos = char.HumanoidRootPart.Position

                coroutine.wrap(function()
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        if table.find(weaponArmorAmmoItems, obj.Name) then
                            local partToMove
                            if obj:IsA("Model") then
                                partToMove = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            elseif obj:IsA("BasePart") then
                                partToMove = obj
                            end
                            if partToMove then
                                partToMove.CFrame = CFrame.new(hrpPos + Vector3.new(math.random(-3,3), 1, math.random(-3,3)))
                                task.wait(0.01)
                            end
                        end
                    end
                end)()
            end)

        elseif cat == "Auto" then
            -- Auto Plant Sapling (Version corrig√©e - une seule d√©claration)
            local plantBtn = Instance.new("TextButton", rightContent)
            plantBtn.Size = UDim2.new(0, 160, 0, 30)
            plantBtn.Position = UDim2.new(0, 10, 0, 10)
            plantBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            plantBtn.TextColor3 = Color3.new(1, 1, 1)
            plantBtn.Font = Enum.Font.Gotham
            plantBtn.TextSize = 14
            plantBtn.Text = "Auto Plant Sapling: OFF"

            plantBtn.MouseButton1Click:Connect(function()
                autoPlant = not autoPlant
                plantBtn.Text = "Auto Plant Sapling: " .. (autoPlant and "ON" or "OFF")
                plantBtn.BackgroundColor3 = autoPlant and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
            end)

            -- Heal Campfire Button
            local healBtn = Instance.new("TextButton", rightContent)
            healBtn.Size = UDim2.new(0, 160, 0, 30)
            healBtn.Position = UDim2.new(0, 180, 0, 10)
            healBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            healBtn.TextColor3 = Color3.new(1, 1, 1)
            healBtn.Font = Enum.Font.Gotham
            healBtn.TextSize = 14
            healBtn.Text = "Heal Campfire"

            local campfirePosition = Vector3.new(-0.16, 13.20, -0.03)

            healBtn.MouseButton1Click:Connect(function()
                local namesToTeleport = {
                    ["corpse"] = true, ["sapling"] = true, ["alien log"] = true,
                    ["chair"] = true, ["coal"] = true, ["fuel canister"] = true,
                    ["oil barrel"] = true, ["biofuel"] = true, ["log"] = true,
                }

                for _, obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("Model") then
                        local name = obj.Name:lower()
                        if name:find("log") or namesToTeleport[name] then
                            local primary = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
                            if primary then
                                primary.CFrame = CFrame.new(campfirePosition + Vector3.new(math.random(-3, 3), 1, math.random(-3, 3)))
                            end
                        end
                    end
                end
            end)

            -- Auto Save Button
            local autoSaveBtn = Instance.new("TextButton", rightContent)
            autoSaveBtn.Size = UDim2.new(0, 160, 0, 30)
            autoSaveBtn.Position = UDim2.new(0, 10, 0, 50)
            autoSaveBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            autoSaveBtn.TextColor3 = Color3.new(1, 1, 1)
            autoSaveBtn.Font = Enum.Font.Gotham
            autoSaveBtn.TextSize = 14
            autoSaveBtn.Text = "Auto Save: OFF"

            autoSaveBtn.MouseButton1Click:Connect(function()
                autoSaveEnabled = not autoSaveEnabled
                autoSaveBtn.Text = "Auto Save: " .. (autoSaveEnabled and "ON" or "OFF")
                autoSaveBtn.BackgroundColor3 = autoSaveEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "SkyyScripts",
                    Text = "Auto Save "..(autoSaveEnabled and "Activated" or "Disabled"),
                    Duration = 3
                })
            end)

            -- Syst√®me de sauvegarde automatique
            local function setupAutoSave(character)
                if not character then return end
                
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if not humanoid then return end

                humanoid.HealthChanged:Connect(function()
                    if not autoSaveEnabled then return end
                    if humanoid.Health > humanoid.MaxHealth * 0.25 then return end
                    if justTeleported then return end -- Protection contre la re-t√©l√©portation
                    
                    local currentTime = os.time()
                    if currentTime - lastSaveTime < saveCooldown then return end
                    
                    lastSaveTime = currentTime
                    local rootPart = character:FindFirstChild("HumanoidRootPart")
                    if not rootPart then return end

                                         pcall(function()
                         rootPart.CFrame = campfireCFrame
                         humanoid.Health = humanoid.MaxHealth
                         
                         game:GetService("StarterGui"):SetCore("SendNotification", {
                             Title = "SkyyScripts",
                             Text = "You were saved by autosave",
                             Duration = 5,
                             Icon = "rbxassetid://6724408119"
                         })
                         
                         -- Notification suppl√©mentaire pour la re-t√©l√©portation
                         game:GetService("StarterGui"):SetCore("SendNotification", {
                             Title = "SkyyScripts",
                             Text = "You were teleported back to campfire",
                             Duration = 3
                         })
                     end)
                end)
            end

            -- Connexion aux √©v√©nements
            player.CharacterAdded:Connect(setupAutoSave)
            if player.Character then
                setupAutoSave(player.Character)
            end

            -- Boucle de plantation automatique (corrig√©e)
            coroutine.wrap(function()
                while true do
                    task.wait(1)
                    if autoPlant then
                        for _, obj in ipairs(workspace:GetDescendants()) do
                            if obj:IsA("Model") and obj.Name:lower():find("sapling") and not plantedSaplings[obj] then
                                local prompt = obj:FindFirstChildWhichIsA("ProximityPrompt", true)
                                if prompt and prompt.Enabled then
                                    fireproximityprompt(prompt)
                                    plantedSaplings[obj] = true
                                    task.wait(0.2)
                                end
                            end
                        end
                    end
                end
            end)()
            
            -- Liste exacte des armes de m√™l√©e et haches
            local damageTools = {
                "Old Axe", "Good Axe", "Strong Axe", "Chainsaw", "Spear", "Morningstar", "Katana", "Laser Sword"
            }

            -- Liste exacte des entit√©s hostiles et animaux
            local entityNames = {
                "Wolf", "Alpha Wolf", "Bear", "Polar Bear", "Deer", "Alien", "Alien Elite", "Cultist", "Bunny", "Horse"
            }

            -- Version flexible pour d√©tecter les armes
            local function hasDamageTool()
                local char = player.Character
                if not char then return false end
                
                for _, tool in ipairs(char:GetChildren()) do
                    if tool:IsA("Tool") then
                        local toolName = tool.Name:lower()
                        -- D√©tection flexible
                        if toolName:find("axe") or toolName:find("sword") or toolName:find("spear") or 
                           toolName:find("katana") or toolName:find("morningstar") or toolName:find("laser") then
                            return tool
                        end
                    end
                end
                return nil
            end

            -- Fonction Kill Aura
            local function killAura()
                local char = player.Character
                if not char or not char:FindFirstChild("HumanoidRootPart") then return end
                local tool = hasDamageTool()
                if not tool then
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "SkyyScripts",
                        Text = "Equip a melee weapon or axe to use Kill Aura!",
                        Duration = 2
                    })
                    return
                end

                local killed = 0
                for _, obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("Model") and obj ~= char then
                        for _, ename in ipairs(entityNames) do
                            if obj.Name == ename then
                                local root = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChild("Head")
                                if root and (root.Position - char.HumanoidRootPart.Position).Magnitude <= 300 then
                                    -- Tente d'utiliser un ProximityPrompt
                                    local prompt = obj:FindFirstChildWhichIsA("ProximityPrompt", true)
                                    if prompt and prompt.Enabled then
                                        fireproximityprompt(prompt)
                                        killed = killed + 1
                                    else
                                        -- Sinon, tente de tuer via le Humanoid
                                        local humanoid = obj:FindFirstChildWhichIsA("Humanoid")
                                        if humanoid and humanoid.Health > 0 then
                                            humanoid.Health = 0
                                            killed = killed + 1
                                        end
                                    end
                                end
                            end
                        end
                    end
                end

                if killed > 0 then
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "SkyyScripts",
                        Text = "Killed " .. killed .. " entities!",
                        Duration = 2
                    })
                end
            end

            -- Bouton Kill Aura (√† placer dans l'UI)
            local killAuraBtn = Instance.new("TextButton", rightContent)
            killAuraBtn.Size = UDim2.new(0, 160, 0, 30)
            killAuraBtn.Position = UDim2.new(0, 180, 0, 50)
            killAuraBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            killAuraBtn.TextColor3 = Color3.new(1, 1, 1)
            killAuraBtn.Font = Enum.Font.Gotham
            killAuraBtn.TextSize = 14
            killAuraBtn.Text = "Kill Aura: OFF"

            local killAuraEnabled = false
            killAuraBtn.MouseButton1Click:Connect(function()
                killAuraEnabled = not killAuraEnabled
                killAuraBtn.Text = "Kill Aura: " .. (killAuraEnabled and "ON" or "OFF")
                killAuraBtn.BackgroundColor3 = killAuraEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                if killAuraEnabled then
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "SkyyScripts",
                        Text = "Kill Aura Activated!",
                        Duration = 2
                    })
                else
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "SkyyScripts",
                        Text = "Kill Aura Disabled!",
                        Duration = 2
                    })
                end
            end)

            -- Boucle Kill Aura
            coroutine.wrap(function()
                while true do
                    task.wait(1)
                    if killAuraEnabled then
                        killAura()
                    end
                end
            end)()

        elseif cat == "Teleport" then
            local tpBtn = Instance.new("TextButton", rightContent)
            tpBtn.Size = UDim2.new(0, 150, 0, 35)
            tpBtn.Position = UDim2.new(0, 10, 0, 10)
            tpBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            tpBtn.TextColor3 = Color3.new(1, 1, 1)
            tpBtn.Font = Enum.Font.Gotham
            tpBtn.TextSize = 14
            tpBtn.Text = "TP to Campfire"
            tpBtn.MouseButton1Click:Connect(function()
                local char = player.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    char.HumanoidRootPart.CFrame = campfireCFrame
                end
            end)

            -- TP TO CHILD
            local function notify(title, text)
                game.StarterGui:SetCore("SendNotification", {
                    Title = title,
                    Text = text,
                    Duration = 5
                })
            end

            local teleportBtn = Instance.new("TextButton", rightContent)
            teleportBtn.Size = UDim2.new(0, 150, 0, 35)
            teleportBtn.Position = UDim2.new(0, 10, 0, 50)
            teleportBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            teleportBtn.TextColor3 = Color3.new(1, 1, 1)
            teleportBtn.Font = Enum.Font.Gotham
            teleportBtn.TextSize = 14
            teleportBtn.Text = "TP to Child"

            local options = {"Dino Kid", "Squid Kid", "Kraken Kid", "Koala Kid"}

            local dropdown = Instance.new("Frame", rightContent)
            dropdown.Size = UDim2.new(0, 160, 0, #options * 25)
            dropdown.Position = UDim2.new(0, 10, 0, 90)
            dropdown.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            dropdown.Visible = false

            for i, childName in ipairs(options) do
                local btn = Instance.new("TextButton", dropdown)
                btn.Size = UDim2.new(1, 0, 0, 25)
                btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
                btn.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
                btn.TextColor3 = Color3.new(1, 1, 1)
                btn.Font = Enum.Font.Gotham
                btn.TextSize = 12
                btn.Text = childName

                btn.MouseButton1Click:Connect(function()
                    dropdown.Visible = false
                    local found = nil

                    -- Recherche plus large pour les enfants
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        local name = obj.Name:lower()
                        if obj:IsA("Model") and (name:find(childName:lower()) or name:find("kid") or name:find("child")) then
                            local hrp = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChildWhichIsA("BasePart")
                            if hrp then
                                found = hrp
                                break
                            end
                        end
                    end

                    local character = game.Players.LocalPlayer.Character
                    if found and character and character:FindFirstChild("HumanoidRootPart") then
                        -- T√©l√©portation directe au lieu de MoveTo
                        character.HumanoidRootPart.CFrame = found.CFrame + Vector3.new(0, 3, 0)
                        notify("SkyyScripts", "Teleported to " .. childName .. "!")
                    else
                        notify("SkyyScripts", "Child not found in the map.")
                    end
                end)
            end

            teleportBtn.MouseButton1Click:Connect(function()
                dropdown.Visible = not dropdown.Visible
            end)

            -- TP TO CHEST
            local chestBtn = Instance.new("TextButton", rightContent)
            chestBtn.Size = UDim2.new(0, 160, 0, 30)
            chestBtn.Position = UDim2.new(0, 170, 0, 10)
            chestBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            chestBtn.TextColor3 = Color3.new(1, 1, 1)
            chestBtn.Font = Enum.Font.Gotham
            chestBtn.TextSize = 14
            chestBtn.Text = "TP to Chest"

            -- D√©tection des coffres (sans duplication)
            local function findChests()
                local chests = {}
                local foundNames = {} -- Pour √©viter les doublons par nom
                
                for _, obj in ipairs(workspace:GetDescendants()) do
                    -- Recherche plus large pour les coffres
                    local name = obj.Name:lower()
                    if obj:IsA("Model") and (name:find("chest") or name:find("box") or name:find("container")) then
                        -- V√©rifier si ce nom a d√©j√† √©t√© trouv√©
                        if not foundNames[obj.Name] then
                            local hrp = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChildWhichIsA("BasePart")
                            if hrp then
                                foundNames[obj.Name] = true
                                table.insert(chests, {model = obj, part = hrp})
                            end
                        end
                    end
                end
                return chests
            end

            local chestDropdown = Instance.new("Frame", rightContent)
            chestDropdown.Size = UDim2.new(0, 160, 0, 100)
            chestDropdown.Position = UDim2.new(0, 170, 0, 50)
            chestDropdown.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            chestDropdown.BorderSizePixel = 1
            chestDropdown.BorderColor3 = Color3.fromRGB(100, 100, 100)
            chestDropdown.Visible = false

            local selectedChest = nil
            local tpToChestBtn = Instance.new("TextButton", rightContent)
            tpToChestBtn.Size = UDim2.new(0, 160, 0, 30)
            tpToChestBtn.Position = UDim2.new(0, 170, 0, 50)
            tpToChestBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
            tpToChestBtn.TextColor3 = Color3.new(1, 1, 1)
            tpToChestBtn.Font = Enum.Font.Gotham
            tpToChestBtn.TextSize = 14
            tpToChestBtn.Text = "Teleport to Chest"
            tpToChestBtn.Visible = false

            -- Variable pour √©viter la re-t√©l√©portation automatique
            local justTeleported = false

            tpToChestBtn.MouseButton1Click:Connect(function()
                if selectedChest then
                    local char = player.Character
                    if char and char:FindFirstChild("HumanoidRootPart") then
                        -- V√©rifier si le coffre est hors de la map
                        local chestPos = selectedChest.part.Position
                        local mapBounds = 1000 -- Limite de la map
                        
                        if math.abs(chestPos.X) > mapBounds or math.abs(chestPos.Y) > mapBounds or math.abs(chestPos.Z) > mapBounds then
                            notify("SkyyScripts", "Please expand the map to access this chest!")
                            return
                        end
                        
                                                 justTeleported = true
                         char.HumanoidRootPart.CFrame = selectedChest.part.CFrame + Vector3.new(0, 3, 0)
                         notify("SkyyScripts", "Teleported to chest!")
                         
                         -- Notification pour la re-t√©l√©portation automatique
                         coroutine.wrap(function()
                             task.wait(1) -- Attendre 1 seconde
                             if char and char:FindFirstChild("HumanoidRootPart") then
                                 local currentPos = char.HumanoidRootPart.Position
                                 local chestPos = selectedChest.part.Position
                                 local distance = (currentPos - chestPos).Magnitude
                                 
                                 -- Si on est loin du coffre, c'est qu'on a √©t√© re-t√©l√©port√©
                                 if distance > 50 then
                                     notify("SkyyScripts", "You need to unlock more map area to access this chest!")
                                 end
                             end
                         end)()
                         
                         -- Reset apr√®s 5 secondes pour plus de s√©curit√©
                         coroutine.wrap(function()
                             task.wait(5)
                             justTeleported = false
                         end)()
                    end
                end
            end)

            chestBtn.MouseButton1Click:Connect(function()
                local chests = findChests()
                
                -- Nettoyer l'ancien dropdown
                for _, child in ipairs(chestDropdown:GetChildren()) do
                    child:Destroy()
                end

                if #chests == 0 then
                    notify("SkyyScripts", "No chests found!")
                    return
                end

                -- Cr√©er un ScrollingFrame pour le scroll
                local scrollFrame = Instance.new("ScrollingFrame", chestDropdown)
                scrollFrame.Size = UDim2.new(1, 0, 1, 0)
                scrollFrame.Position = UDim2.new(0, 0, 0, 0)
                scrollFrame.BackgroundTransparency = 1
                scrollFrame.ScrollBarThickness = 6
                scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
                scrollFrame.CanvasSize = UDim2.new(0, 0, 0, #chests * 25)

                -- Cr√©er les boutons pour chaque coffre
                for i, chest in ipairs(chests) do
                    local btn = Instance.new("TextButton", scrollFrame)
                    btn.Size = UDim2.new(1, 0, 0, 25)
                    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
                    btn.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
                    btn.TextColor3 = Color3.new(1, 1, 1)
                    btn.Font = Enum.Font.Gotham
                    btn.TextSize = 12
                    btn.Text = "Chest " .. i

                    btn.MouseButton1Click:Connect(function()
                        selectedChest = chest
                        chestDropdown.Visible = false
                        tpToChestBtn.Visible = true
                        notify("SkyyScripts", "Selected Chest " .. i)
                    end)
                end

                -- Ajuster la taille du dropdown et le positionner au-dessus du bouton vert
                local maxHeight = 150 -- Hauteur maximale
                local calculatedHeight = math.min(#chests * 25, maxHeight)
                chestDropdown.Size = UDim2.new(0, 160, 0, calculatedHeight)
                chestDropdown.Position = UDim2.new(0, 170, 0, 90) -- Position au-dessus du bouton vert
                chestDropdown.Visible = not chestDropdown.Visible
                
                -- Debug: Notification pour voir combien de coffres sont trouv√©s
                notify("SkyyScripts", "Found " .. #chests .. " chest(s)")
            end)

        elseif cat == "Visual" then
            -- FULL BRIGHT
            local fullBrightBtn = Instance.new("TextButton", rightContent)
            fullBrightBtn.Size = UDim2.new(0, 160, 0, 30)
            fullBrightBtn.Position = UDim2.new(0, 10, 0, 10)
            fullBrightBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            fullBrightBtn.TextColor3 = Color3.new(1, 1, 1)
            fullBrightBtn.Font = Enum.Font.Gotham
            fullBrightBtn.TextSize = 14
            fullBrightBtn.Text = "Full Bright: OFF"

            local fullBrightEnabled = false
            local originalLighting = {}

            fullBrightBtn.MouseButton1Click:Connect(function()
                fullBrightEnabled = not fullBrightEnabled
                fullBrightBtn.Text = "Full Bright: " .. (fullBrightEnabled and "ON" or "OFF")
                fullBrightBtn.BackgroundColor3 = fullBrightEnabled and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                local lighting = game:GetService("Lighting")
                if fullBrightEnabled then
                    originalLighting.Brightness = lighting.Brightness
                    originalLighting.Ambient = lighting.Ambient
                    originalLighting.OutdoorAmbient = lighting.OutdoorAmbient
                    originalLighting.TimeOfDay = lighting.TimeOfDay
                    lighting.Brightness = 5
                    lighting.Ambient = Color3.new(1,1,1)
                    lighting.OutdoorAmbient = Color3.new(1,1,1)
                    lighting.TimeOfDay = "14:00:00"
                else
                    if originalLighting.Brightness then
                        lighting.Brightness = originalLighting.Brightness
                        lighting.Ambient = originalLighting.Ambient
                        lighting.OutdoorAmbient = originalLighting.OutdoorAmbient
                        lighting.TimeOfDay = originalLighting.TimeOfDay
                    end
                end
            end)

            -- ESP PLAYER, ANIMAL, CHILD
            local function createESP(part, color)
                if part:FindFirstChild("ESPBox") then return end
                local box = Instance.new("BoxHandleAdornment")
                box.Name = "ESPBox"
                box.Adornee = part
                box.AlwaysOnTop = true
                box.ZIndex = 10
                box.Size = part.Size
                box.Color3 = color
                box.Transparency = 0.7
                box.Parent = part
            end

            local function removeESP(part)
                if part:FindFirstChild("ESPBox") then
                    part.ESPBox:Destroy()
                end
            end

            local function getMainPart(model)
                -- Cherche d'abord HumanoidRootPart ou Head
                local main = model:FindFirstChild("HumanoidRootPart") or model:FindFirstChild("Head")
                if main and main:IsA("BasePart") then
                    return main
                end
                -- Sinon, prend la plus grosse partie
                local biggest, maxSize = nil, 0
                for _, part in ipairs(model:GetDescendants()) do
                    if part:IsA("BasePart") then
                        local size = part.Size.X * part.Size.Y * part.Size.Z
                        if size > maxSize then
                            maxSize = size
                            biggest = part
                        end
                    end
                end
                return biggest
            end

            local function isAnimalModel(model)
                -- V√©rifie que c'est un vrai animal (pr√©sence d'un Humanoid ou HumanoidRootPart)
                if model:FindFirstChild("Humanoid") or model:FindFirstChild("HumanoidRootPart") then
                    return true
                end
                -- Ou alors, il a plusieurs parties (genre un vrai animal)
                local partCount = 0
                for _, part in ipairs(model:GetDescendants()) do
                    if part:IsA("BasePart") then
                        partCount = partCount + 1
                    end
                end
                return partCount >= 3 -- au moins 3 parties pour √©viter les accessoires/d√©cors
            end

            local espEnabled = {Player=false, Animal=false, Child=false}

            local function toggleESP(typeName, enabled)
                espEnabled[typeName] = enabled
                for _, obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("Model") then
                        local color = nil
                        if typeName == "Player" and game.Players:GetPlayerFromCharacter(obj) then
                            color = Color3.new(0,1,0)
                        elseif typeName == "Animal" and (obj.Name:lower():find("wolf") or obj.Name:lower():find("bear") or obj.Name:lower():find("deer") or obj.Name:lower():find("fox") or obj.Name:lower():find("rabbit") or obj.Name:lower():find("bunny") or obj.Name:lower():find("hare")) then
                            if isAnimalModel(obj) then
                                color = Color3.new(1,0,0)
                            end
                        elseif typeName == "Child" and obj.Name:lower():find("kid") then
                            color = Color3.new(0,0,1)
                        end
                        local part = getMainPart(obj)
                        if part then
                            if color and enabled then
                                createESP(part, color)
                            else
                                removeESP(part)
                            end
                        end
                    end
                end
            end

            -- Boutons ESP
            local espPlayerBtn = Instance.new("TextButton", rightContent)
            espPlayerBtn.Size = UDim2.new(0, 160, 0, 30)
            espPlayerBtn.Position = UDim2.new(0, 10, 0, 50)
            espPlayerBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            espPlayerBtn.TextColor3 = Color3.new(1, 1, 1)
            espPlayerBtn.Font = Enum.Font.Gotham
            espPlayerBtn.TextSize = 14
            espPlayerBtn.Text = "ESP Player: OFF"

            espPlayerBtn.MouseButton1Click:Connect(function()
                espEnabled.Player = not espEnabled.Player
                espPlayerBtn.Text = "ESP Player: " .. (espEnabled.Player and "ON" or "OFF")
                espPlayerBtn.BackgroundColor3 = espEnabled.Player and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                toggleESP("Player", espEnabled.Player)
            end)

            local espAnimalBtn = Instance.new("TextButton", rightContent)
            espAnimalBtn.Size = UDim2.new(0, 160, 0, 30)
            espAnimalBtn.Position = UDim2.new(0, 10, 0, 90)
            espAnimalBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            espAnimalBtn.TextColor3 = Color3.new(1, 1, 1)
            espAnimalBtn.Font = Enum.Font.Gotham
            espAnimalBtn.TextSize = 14
            espAnimalBtn.Text = "ESP Animal: OFF"

            espAnimalBtn.MouseButton1Click:Connect(function()
                espEnabled.Animal = not espEnabled.Animal
                espAnimalBtn.Text = "ESP Animal: " .. (espEnabled.Animal and "ON" or "OFF")
                espAnimalBtn.BackgroundColor3 = espEnabled.Animal and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                toggleESP("Animal", espEnabled.Animal)
            end)

            local espChildBtn = Instance.new("TextButton", rightContent)
            espChildBtn.Size = UDim2.new(0, 160, 0, 30)
            espChildBtn.Position = UDim2.new(0, 10, 0, 130)
            espChildBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
            espChildBtn.TextColor3 = Color3.new(1, 1, 1)
            espChildBtn.Font = Enum.Font.Gotham
            espChildBtn.TextSize = 14
            espChildBtn.Text = "ESP Child: OFF"

            espChildBtn.MouseButton1Click:Connect(function()
                espEnabled.Child = not espEnabled.Child
                espChildBtn.Text = "ESP Child: " .. (espEnabled.Child and "ON" or "OFF")
                espChildBtn.BackgroundColor3 = espEnabled.Child and Color3.fromRGB(0, 100, 0) or Color3.fromRGB(100, 0, 0)
                toggleESP("Child", espEnabled.Child)
            end)

        elseif cat == "Settings" then
            local devLabel = Instance.new("TextLabel", rightContent)
            devLabel.Size = UDim2.new(1, -20, 0, 30)
            devLabel.Position = UDim2.new(0, 10, 0, 10)
            devLabel.BackgroundTransparency = 1
            devLabel.TextColor3 = Color3.new(1, 1, 1)
            devLabel.Font = Enum.Font.GothamBold
            devLabel.TextSize = 18
            devLabel.Text = "Developer : skyy"

            local linkLabel = Instance.new("TextLabel", rightContent)
            linkLabel.Size = UDim2.new(1, -20, 0, 30)
            linkLabel.Position = UDim2.new(0, 10, 0, 45)
            linkLabel.BackgroundTransparency = 1
            linkLabel.TextColor3 = Color3.new(1, 1, 1)
            linkLabel.Font = Enum.Font.Gotham
            linkLabel.TextSize = 16
            linkLabel.Text = "https://discord.gg/vtzYXtraXR"

            local infoLabel = Instance.new("TextLabel", rightContent)
            infoLabel.Size = UDim2.new(1, -20, 0, 30)
            infoLabel.Position = UDim2.new(0, 10, 0, 80)
            infoLabel.BackgroundTransparency = 1
            infoLabel.TextColor3 = Color3.new(1, 1, 1)
            infoLabel.Font = Enum.Font.Gotham
            infoLabel.TextSize = 14
            infoLabel.Text = "G key open/close menu"

            local killBtn = Instance.new("TextButton", rightContent)
            killBtn.Size = UDim2.new(0, 200, 0, 35)
            killBtn.Position = UDim2.new(0, 88, 0, 120)
            killBtn.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
            killBtn.TextColor3 = Color3.new(1, 1, 1)
            killBtn.Font = Enum.Font.GothamBold
            killBtn.TextSize = 14
            killBtn.Text = "KILL MENU"
            killBtn.MouseButton1Click:Connect(function()
                gui:Destroy()
            end)
        end
    end

    for i, name in ipairs(categories) do
        local btn = Instance.new("TextButton", leftPanel)
        btn.Size = UDim2.new(1, 0, 0, 30)
        btn.Position = UDim2.new(0, 0, 0, (i - 1) * 30)
        btn.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.Gotham
        btn.TextSize = 14
        btn.Text = name
        btn.MouseButton1Click:Connect(function()
            showCategory(name)
        end)
    end
end

-- Interface Cl√©
local keyFrame = Instance.new("Frame", gui)
keyFrame.Size = UDim2.new(0, 260, 0, 130)
keyFrame.Position = UDim2.new(0.5, -130, 0.5, -65)
keyFrame.BackgroundColor3 = Color3.fromRGB(100, 0, 0)

local title = Instance.new("TextLabel", keyFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "SkyyScripts - Key System"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16

local textBox = Instance.new("TextBox", keyFrame)
textBox.Size = UDim2.new(1, -20, 0, 35)
textBox.Position = UDim2.new(0, 10, 0, 40)
textBox.PlaceholderText = "Enter key here"
textBox.Text = ""
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 14
textBox.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
textBox.TextColor3 = Color3.new(1, 1, 1)

local submitBtn = Instance.new("TextButton", keyFrame)
submitBtn.Size = UDim2.new(1, -20, 0, 35)
submitBtn.Position = UDim2.new(0, 10, 0, 80)
submitBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
submitBtn.TextColor3 = Color3.new(1, 1, 1)
submitBtn.Font = Enum.Font.Gotham
submitBtn.TextSize = 14
submitBtn.Text = "Validate Key"

submitBtn.MouseButton1Click:Connect(function()
    if validateKey(textBox.Text) then
        keyFrame:Destroy()
        showMainMenu()
        menuVisible = true
    else
        textBox.Text = ""
        textBox.PlaceholderText = "Wrong key, try again"
    end
end)

game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == toggleKey and menuVisible then
        if mainFrame then
            mainFrame.Visible = not mainFrame.Visible
        end
    end
end) 
